<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REAL. - Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"> <!-- Example link -->
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <header>
        <h1 class="logo">Real
            <img src="/images/green_circle.png">
        </h1> 
        <div >
            <img class="settings" src="/images/setting.png" alt="">
        </div>
    </header>

    <div class="search-container">
        <div class="search-wrapper">
            <i class="fas fa-search search-icon"></i>
            <input type="text" class="search-bar" placeholder="Search news near your location...">
            <button class="search-button">Search</button>
        </div>
    </div>
    <main>
        <h1 class="hello">Hello John!</h1>
        <h1 class="location">Your current location</h1>
        <h1 class="address"><img src="/images/loc.png" alt="">Albert St Brisbane City, QLD 4000</h1>
        <button class="add-news-button">+ Add News</button>
        <h1 class="trending-title">Trending updates in your area</h1>
        <div class="scroll-container"> <!-- Scrollable container -->
            <% for(let i = 1; i <= 6; i++) { %>
                <article class="news-card"> <!-- Individual card -->
                    <div class="small-images">
                        <img src="/images/koala.jpg">
                    </div>
                    <div class="ribbon <%= i === 1 ? 'verified' : i === 2 ? 'unverified' : 'fake' %>">
                        <%= i === 1 ? 'Verified' : i === 2 ? 'Unverified' : 'Fake' %>
                    </div>
                    <div class="news-content">
                        <h3 class="heading">Lorem Ipsum Dolor Sit Amet <%= i %></h3>
                        <p class="text">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                        <h1 class="address-small"><img src="/images/loc.png" alt="">Albert St Brisbane City, QLD 4000</h1>
                    </div>
                </article>
            <% } %>
        </div>
        <h1 class="feed-title">News feed</h1>
        <div class="news-container">
            <% newsList.forEach(function(newsItem) { %>
                <article class="news-item" id="news-<%= newsItem.id %>" data-id="<%= newsItem.id %>">
                    <div class="ribbon <%= newsItem.ribbonType %>">
                        <%= newsItem.ribbonType.charAt(0).toUpperCase() + newsItem.ribbonType.slice(1) %>
                    </div>
                    <div class="news-top">
                        <div class="profile-pic">
                            <img src=<%=newsItem.imgSrc %>> 
                        </div>
                        <span class="user-name">
                            <%= newsItem.author %>
                        </span>
                        <span class="dot">•</span>
                        <span class="time">
                            <%= newsItem.time %>
                        </span>
                        <span class="dot">•</span>
                        <span class="news-status">News popular near you</span>
                    </div>
                    <div class="news-image">
                        <img src=<%= newsItem.newsImgSrc %>>
                    </div>
                    <div class="news-content">
                        <h3>
                            <%= newsItem.title %>
                        </h3>
                        <p>
                            <%= newsItem.content %>
                        </p>
                    </div>
                    <div class="news-actions">
                        <button class="likes-btn">
                            <img src="images/like.png" alt="20">
                            <span><%= newsItem.likes %>Likes</span>
                        </button>
                        <button class="comment-btn">
                            <img src="images/comment.png" alt="Comment">
                            <span><%= newsItem.commentsCount %>300</span>
                        </button>
                        <button class="share-btn">
                            <img src="images/share-b.png" alt="Share">
                            <span>Share</span>
                        </button>
                    </div>
                    <button class="a-verify-btn">Verify</button>
                </article>
                <% }); %>
        </div>
    </main>


    <script>
        // Add click event listener to each news item
        document.querySelectorAll('.news-item').forEach(function (newsItem) {
            newsItem.addEventListener('click', function () {
                const newsId = this.getAttribute('data-id');  // Get the news item ID
                window.location.href = `/post/${newsId}`;     // Redirect to the news post page
            });
        });
    </script>

    <nav class="bottom-nav">
        <a href="/">
            <div class="nav-icon"><img src="/vectors/home.svg"></div>
            <span>Home</span>
        </a>
        <a href="/verified-news" class="active">
            <div class="nav-icon"><img src="/images/verify.png"></div>
            <span>Verified News</span>
        </a>
        <a href="/map">
            <div class="nav-icon"><img src="/vectors/map.svg"></div>
            <span>Map</span>
        </a>
    </nav>
</nav>
<footer class="footer">
    <div class="footer-content">
        <p>&copy; 2024 Real. All rights reserved.</p>
        <p>Team: Curry Powder</p>
    </div>
</footer>
</body>
</html>