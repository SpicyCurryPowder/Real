<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REAL . - Sources</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
    <header>
        <div class="m-line">
            <a href="/">
                <img src="/images/Line.png">
            </a>
        </div>
        <div class="filter">
            <img src="/images/share.png">
        </div>
    </header>
    <main>
        <br>

        <div class="tiles-container">
            <div class="tile" id="addSourcesButton" onclick="openForm()">
                <span class="tile-text">+ Add Sources</span>
            </div>
            <div class="tile" id="flagTile">
                <span class="tile-text">Flag</span>
                <img class="flag" src="/images/flag.png" alt="">
            </div>
        </div>
        <br>
        <div id="newsFormModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeForm()">&times;</span>
                <form>
                    <h2>Add sources</h2>
        
                    <!-- Main Heading -->
                    <label for="mainHeading">Main Heading:</label>
                    <input type="text" name="mainHeading" id="mainHeading" required><br>
        
                    <!-- Add Location -->
                    <label for="location">Add Location:</label>
                    <input type="text" name="location" id="location"><br>
        
                    <!-- Sources Section -->
                    <fieldset>
                        <legend>Sources</legend>
        
                        <!-- Add Multiple Images -->
                        <label for="additionalImages">Additional Images:</label>
                        <input type="file" name="additionalImages" id="additionalImages" multiple><br>
        
                        <!-- Add Report -->
                        <label for="additionalReport">Additional Report:</label>
                        <input type="file" name="additionalReport" id="additionalReport"><br>
        
                        <!-- Add Links (Optional) -->
                        <label for="links">Add Links (Optional):</label>
                        <input type="url" name="links" id="links"><br>
        
                        <!-- Add Video (Optional) -->
                        <label for="video">Add Video (Optional):</label>
                        <input type="file" name="video" id="video" accept="video/*"><br>
        
                        <!-- Citation -->
                        <label for="citation">Citation:</label>
                        <textarea name="citation" id="citation" rows="2"></textarea>
                    </fieldset>
        
                    <!-- Submit Button -->
                    <button type="submit">Submit</button>
                </form>
            </div> 
        </div>
        <script>
            // Open the form modal
            function openForm() {
                console.log("Opening form");
                document.getElementById("newsFormModal").style.display = "block";
            }
        
            // Close the form modal
            function closeForm() {
                console.log("Closing form");
                document.getElementById("newsFormModal").style.display = "none";
            }
        
            // Close the form when clicking outside of it
            window.onclick = function(event) {
                const modal = document.getElementById("newsFormModal");
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        </script>

        <div class="popup" id="flagReasonPopup">
            <div class="popup-content">
                <h4>Choose reason to flag</h4>
                <button onclick="flagReason('not relevant')">Not Relevant</button>
                <button onclick="flagReason('misleading')">Misleading</button>
                <button onclick="flagReason('not true')">Not True</button>
                <button onclick="flagReason('report')">Report</button>
                <button class="cancel-button" onclick="closePopup()">Cancel</button> <!-- Added class for styling -->
            </div>
        </div>
    
        <script>
            document.getElementById('flagTile').addEventListener('click', function() {
                document.getElementById('flagReasonPopup').style.display = 'block'; // Show popup
            });
    
            function closePopup() {
                document.getElementById('flagReasonPopup').style.display = 'none'; // Hide popup
            }
    
            function flagReason(reason) {
                console.log('Flagged as:', reason); // Process the flag reason
                closePopup(); // Close the popup after selection
            }
        </script>
        <h1 class="feed-title">Combination flu and COVID-19 jab being trialled at Australian hospital</h1>
        <p>Sources</p>
        <div class="news-container">
            <% 
            const profileImages=[ "/images/profile-1.jpg" , "/images/profile-2.jpg", 
            "/images/profile-3.jpg" , "/images/profile-4.png" , "/images/profile-5.png" , "/images/profile-3.jpg"]; 
            const userNames=[ "Combination flu and COVID-19 jab being trialled at Australian hospital" , "Combination flu and COVID-19 jab being trialled at Australian hospital", 
                "Combination flu and COVID-19 jab being trialled at Australian hospital" , 
                "Combination flu and COVID-19 jab being trialled at Australian hospital" ,
                "Combination flu and COVID-19 jab being trialled at Australian hospital" , 
                "Combination flu and COVID-19 jab being trialled at Australian hospital"]
 

            const times=["02 Oct, 2023 | 8:16PM", 
                "07 Oct, 2024  |  12:08PM", 
                "02 Oct, 2023  |  08:16PM" , 
                "04 Oct, 2023  |  08:16PM" , 
                "02 Oct, 2023  |  8:16PM" ]; 
            %>

                <% for(let i=1; i <=2; i++) { const randomImage=profileImages[Math.floor(Math.random() *
                    profileImages.length)]; const randomName=userNames[i % userNames.length]; const randomTime=times[i %
                    times.length]; %>

                    <article class="news-item">
                        <div class="news-top">
                            <span class="user-name">
                                <%= randomName %>
                            </span>
                            <span class="dot">|</span>
                            <span class="time">
                                <%= randomTime %>
                            </span>

                        </div>

                        <div class="news-image">
                            <img src="https://picsum.photos/seed/<%= i + 10 %>/400/200"
                                alt="Sample Article Image <%= i %>">
                        </div>
                        <div class="news-content">
                            <p>Report</p>
                            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
                                nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui
                                officia deserunt mollit anim id est laborum.</p>
                            <p class="link">Link: <a href="https://www.britannica.com/animal/koala"
                                    target="_blank">https://www.britannica.com/animal/koala</a></p>
                            <div class="address-container" style="display:  flex; justify-content: space-between;">
                                <img src="/images/like.png" style="height: 40px; " alt="Vote Icon" class="address-icon">
                                <h1 class="address">
                                    <img src="/images/loc.png" alt="Location Icon">Albert St Brisbane City
                                </h1>
                            </div>
                        </div>
                    </article>
                    <% } %>
                        <article class="news-item video-thumbnail">
                            <div class="news-top">
                                <span class="user-name">"Combination flu and COVID-19 jab being trialled at Australian hospital" , 
                                </span>
                                <span class="dot">|</span>
                                <span class="time">08 Oct, 2023 | 10:00AM</span>
                            </div>

                            <div class="news-image">
                                <video controls width="100%"> <!-- Use the video tag here -->
                                    <source src="https://www.youtube.com/watch?v=vrzYCBUEMgA" type="video/mp4">
                                    Your browser does not support the video tag.
                                </video>
                            </div>
                            <div class="news-content">
                                <p>Combination flu and COVID-19 jab being trialled at Australian hospital</p>
                                <p class="link">Link: <a href="https://www.example.com" target="_blank">Watch Video</a>
                                </p>
                                <div class="address-container" style="display:  flex; justify-content: space-between;">
                                    <img src="/images/like.png" style="height: 40px;" alt="Vote Icon" class="address-icon">
                                    <h1 class="address">
                                        <img src="/images/loc.png" alt="Location Icon">Albert St Brisbane City
                                    </h1>
                                </div>
                            </div>
                        </article>
        </div>
    
        <br>
    </main>
    <footer class="footer">
        <div class="disclaimer">
            <h2>Terms and Conditions for Sources:</h2>
            <p>
                All sources uploaded must include appropriate citations 
                for verification and will undergo thorough AI and internal verification. 
                Sources may be marked as unverified or labeled as lacking proper 
                documentation if identified, and any content proven false will be 
                flagged as misleading. Users who make abusive claims will receive 
                a warning and may be removed from the community. Viewers are encouraged 
                to engage responsibly by liking reliable sources and flagging any content 
                they believe is inaccurate or harmful, helping to maintain a credible and 
                trustworthy environment.
            </p>
        </div>

        <div class="footer-content">
            <p>&copy; 2024 Real. All rights reserved.</p>
            <p>Team: Curry Powder</p>
        </div>
    </footer>    
</body>
</html>