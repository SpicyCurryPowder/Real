<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REAL. - Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"> <!-- Example link -->
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <header>
        <h1 class="logo">Real
          <img src="/images/green_circle.png">
        </h1> 
        <div class="settings">        
            <img src="/images/settings.png">
        </div>
 
    </header>
    <div class="search-container">
        <div class="search-wrapper">
            <i class="fas fa-search search-icon"></i>
            <input type="text" class="search-bar" placeholder="Search news near your location...">
            <button class="search-button">Search</button>
        </div>
    </div>
    <main>
        <h1 class="hello">Hello John!</h1>
        <h1 class="location">Your current location</h1>
        <h1 class="address"><img src="/images/Vector.png" alt="">Albert St Brisbane City, QLD 4000</h1>
        <button class="add-news-button">+ Add News</button>
        <h1 class="trending-title">Trending updates in your area</h1>
        <div class="scroll-container"> <!-- Scrollable container -->
            <% if (Array.isArray(articles) && articles.length > 0) { %>
                <% articles.forEach((article, index) => { %>
                    <article class="news-card"> <!-- Individual card -->
                        <div class="small-images">
                            <img src="<%= article.image_url || `/images/koala.jpg` %>" alt="Article Image">
                        </div>
                        <div class="ribbon <%= ['verified', 'unverified', 'fake'][index % 3] %>">
                            <%= ['Verified', 'Unverified', 'Fake'][index % 3] %>
                        </div>
                        <div class="news-content">
                            <h3 class="heading"><%= article.title %></h3>
                            <p class="text"><%= article.description %>...</p>
                            <h1 class="address-small"><img src="/images/Vector.png" alt="">Albert St Brisbane City, QLD 4000</h1>
                        </div>
                    </article>
                <% }) %>
            <% } else { %>
                <% for(let i = 1; i <= 6; i++) { %>
                    <article class="news-card"> <!-- Individual card -->
                        <div class="small-images">
                            <img src="/images/koala.jpg">
                        </div>
                        <div class="ribbon <%= i === 1 ? 'verified' : i === 2 ? 'unverified' : 'fake' %>">
                            <%= i === 1 ? 'Verified' : i === 2 ? 'Unverified' : 'Fake' %>
                        </div>
                        <div class="news-content">
                            <h3 class="heading">Lorem Ipsum Dolor Sit Amet <%= i %></h3>
                            <p class="text">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                            <h1 class="address-small"><img src="/images/Vector.png" alt="">Albert St Brisbane City, QLD 4000</h1>
                        </div>
                    </article>
                <% } %>
            <% } %>
        </div>
        <h1 class="feed-title">News feed</h1>
        <div class="news-container">
            <% 
            // Array of profile image URLs
            const profileImages = [
                "/images/profile-1.jpg",
                "/images/profile-2.jpg",
                "/images/profile-3.jpg",
                "/images/profile-4.png",
                "/images/profile-5.png",
                "/images/profile-3.jpg",
            ];

            const userNames = [
            "Alice Johnson", "Bob Smith", "Charlie Adams", 
            "Dana Lee", "Evelyn Harris", "Frank Moore"
            ];
            
            const times = ["1h ago", "2h ago", "3h ago", "4h ago", "5h ago", "6h ago"];

            // Array of ribbon types
            const ribbonTypes = ['verified', 'unverified', 'fake'];
            %>
        
            <% if (Array.isArray(articles) && articles.length > 0) { %>
                <% articles.forEach((article, index) => { 
                    const randomImage = profileImages[Math.floor(Math.random() * profileImages.length)];
                    const randomName = userNames[index % userNames.length];
                    const randomTime = times[index % times.length];
                    const randomRibbonType = ribbonTypes[Math.floor(Math.random() * ribbonTypes.length)];

                    // Determine the href based on the ribbon type
                    let href;
                    if (randomRibbonType === 'verified') {
                        href = "/newspage-verified";
                    } else if (randomRibbonType === 'unverified') {
                        href = "/newspage-unverified";
                    } else {
                        href = "/newspage-fake";
                    }
                    
                %>
                
                <article class="news-item">
                    <div class="ribbon <%= randomRibbonType %>">
                        <%= randomRibbonType.charAt(0).toUpperCase() + randomRibbonType.slice(1) %>
                    </div>
                    <div class="news-top">
                        <div class="profile-pic">
                            <img src="<%= randomImage %>" alt="User Profile Picture <%= index + 1 %>">
                        </div>
                        <span class="user-name"><%= randomName %></span>
                        <span class="dot">•</span>
                        <span class="time"><%= randomTime %></span>
                        <span class="dot">•</span>
                        <span class="news-status">News popular near you</span>
                    </div>
        
                    <div class="news-image">
                        <img src="<%= article.image_url || `https://picsum.photos/seed/${index}/400/200` %>" alt="Article Image <%= index + 1 %>">
                    </div>
                    <div class="news-content">
                        <h3><%= article.title %></h3>
                        <p><%= article.description %></p>
                        <a href="<%= href %>" class="verify-btn">
                            Verify
                        </a>
                    </div>
                </article>
                <% }) %>
            <% } else { %>
                <p>No news articles available at the moment. Please try again later.</p>
            <% } %>
        </div>
    </main>
    <nav class="bottom-nav">
        <a href="/" class="active">
            <div class="nav-icon"><img src="/images/Home.png" alt=""></div>
            <span>Home</span>
        </a>
        <a href="/verified-news">
            <div class="nav-icon-verified"><img src="/images/verify.png" alt=""></div>
            <span>Verified News</span>
        </a>
        <!-- <a href="/newspage-verified">
            <div class="nav-icon-sources"><img src="/images/sources.png" alt=""></div>
            <span>Sources</span>
        </a> -->
    </nav>
    <footer></footer>
        <div class="footer-container">
            <p>&copy; 2024 REAL.</p>
            <div class="footer-links">
                <a href="#">Team Curry Powder</a>
            </div>
        </div>
    </footer>
</body>
</html>
